import { NextFunction, Request, Response } from 'express';
import { INTERNAL_SERVER_ERROR } from 'http-status-codes';
import { HttpError, HttpErrorResponse, NotFound } from './http-error';

export function notFoundHandler(req: Request, _res: Response, next: NextFunction): void {
  next(NotFound(`Cannot ${req.method} ${req.path}`));
}

export function errorHandler(
  error: HttpError,
  _req: Request,
  res: Response<HttpErrorResponse>,
  // eslint-disable-next-line @typescript-eslint/no-unused-vars
  _next: NextFunction
): void {
  res.status(error.statusCode || INTERNAL_SERVER_ERROR).send({ error });
}
