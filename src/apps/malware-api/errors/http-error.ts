import { INTERNAL_SERVER_ERROR, NOT_FOUND } from 'http-status-codes';

export type HttpError = {
  status: string;
  statusCode: number;
  message: string;
  stack?: string;
};

export type HttpErrorResponse = { error: HttpError };

export function NotFound(message: string): HttpError {
  return {
    status: 'Not Found',
    statusCode: NOT_FOUND,
    message
  };
}

export function InternalServerError(error: Error): HttpError {
  const httpError: HttpError = {
    status: 'Internal Server Error',
    statusCode: INTERNAL_SERVER_ERROR,
    message: 'Something went wrong'
  };

  if (process.env.ENVIRONMENT !== 'production') {
    httpError.stack = error.stack;
  }

  return httpError;
}
